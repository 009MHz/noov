{"uid":"47b7be41ba0d306","name":"Homepage Mobile Banner validation","fullName":"tests.web.client.test_smoke_home.TestHomeSmoke#test_mobile_app_redirection","historyId":"50a0907127ae8dae2d544f1fabec7f59","time":{"start":1757072146480,"stop":1757072152242,"duration":5762},"status":"failed","statusMessage":"AssertionError: Page URL expected to be 'https://play.google.com/store/apps/details?id=com.noovoleum.ucollect'\nActual value: https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8 \nCall log:\nPageAssertions.to_have_url with timeout 5000ms\n  - waiting for locator(\":root\")\n  -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"","statusTrace":"self = <test_smoke_home.TestHomeSmoke object at 0x7f36d517a790>\npage = <Page url='https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8'>\nhome = <sources.web.client.home_page.HomePage object at 0x7f36ce9cdb90>\nmarket = 'Google', platform = 'mobile'\n\n    @allure.title(\"Homepage Mobile Banner validation\")\n    @allure.feature(\"Home/ Mobile Banner\")\n    @allure.severity(severity.CRITICAL)\n    @pytest.mark.parametrize(\"market\", [\"Apple\", \"Google\"])\n    async def test_mobile_app_redirection(self, page, home, market, platform):\n        if market == \"Apple\":\n            with step(f\"Click on the {market} button\"):\n                await home.click_banner_apple_btn()\n            with step(f\"Verify the {market} redirection\"):\n                await expect(page).to_have_url(\n                    re.compile(\n                        r\"https://apps.apple.com/id/app/ucollect-by-noovoleum/.*\"\n                    )\n                )\n        else:\n            with step(f\"Click on the {market} button\"):\n                await home.click_banner_android_btn()\n            with step(f\"Verify the {market} redirection\"):\n>               await expect(page).to_have_url(\n                    \"https://play.google.com/store/apps/details?id=com.noovoleum.ucollect\"\n                )\nE               AssertionError: Page URL expected to be 'https://play.google.com/store/apps/details?id=com.noovoleum.ucollect'\nE               Actual value: https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8 \nE               Call log:\nE               PageAssertions.to_have_url with timeout 5000ms\nE                 - waiting for locator(\":root\")\nE                 -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n\ntests/web/client/test_smoke_home.py:58: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"playwright","time":{"start":1757072140639,"stop":1757072140856,"duration":217},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"event_loop","time":{"start":1757072140639,"stop":1757072140639,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"runner","time":{"start":1757072140856,"stop":1757072140944,"duration":88},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"context","time":{"start":1757072140944,"stop":1757072140955,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page","time":{"start":1757072140955,"stop":1757072140992,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"home","time":{"start":1757072140992,"stop":1757072146479,"duration":5487},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Page URL expected to be 'https://play.google.com/store/apps/details?id=com.noovoleum.ucollect'\nActual value: https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8 \nCall log:\nPageAssertions.to_have_url with timeout 5000ms\n  - waiting for locator(\":root\")\n  -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n  -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\n  -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"","statusTrace":"self = <test_smoke_home.TestHomeSmoke object at 0x7f36d517a790>\npage = <Page url='https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8'>\nhome = <sources.web.client.home_page.HomePage object at 0x7f36ce9cdb90>\nmarket = 'Google', platform = 'mobile'\n\n    @allure.title(\"Homepage Mobile Banner validation\")\n    @allure.feature(\"Home/ Mobile Banner\")\n    @allure.severity(severity.CRITICAL)\n    @pytest.mark.parametrize(\"market\", [\"Apple\", \"Google\"])\n    async def test_mobile_app_redirection(self, page, home, market, platform):\n        if market == \"Apple\":\n            with step(f\"Click on the {market} button\"):\n                await home.click_banner_apple_btn()\n            with step(f\"Verify the {market} redirection\"):\n                await expect(page).to_have_url(\n                    re.compile(\n                        r\"https://apps.apple.com/id/app/ucollect-by-noovoleum/.*\"\n                    )\n                )\n        else:\n            with step(f\"Click on the {market} button\"):\n                await home.click_banner_android_btn()\n            with step(f\"Verify the {market} redirection\"):\n>               await expect(page).to_have_url(\n                    \"https://play.google.com/store/apps/details?id=com.noovoleum.ucollect\"\n                )\nE               AssertionError: Page URL expected to be 'https://play.google.com/store/apps/details?id=com.noovoleum.ucollect'\nE               Actual value: https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8 \nE               Call log:\nE               PageAssertions.to_have_url with timeout 5000ms\nE                 - waiting for locator(\":root\")\nE                 -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\nE                 -   locator resolved to <html dir=\"ltr\" hydrated=\"\" lang=\"en-GB\">…</html>\nE                 -   unexpected value \"https://apps.apple.com/id/app/ucollect-by-noovoleum/id6462969708?mt=8\"\n\ntests/web/client/test_smoke_home.py:58: AssertionError","steps":[{"name":"Click on the Google button","time":{"start":1757072146480,"stop":1757072147238,"duration":758},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Verify the Google redirection","time":{"start":1757072147238,"stop":1757072152242,"duration":5004},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[{"uid":"b37a6ec3f6fc2a50","name":"screenshot","source":"b37a6ec3f6fc2a50.png","type":"image/png","size":753193}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":1,"hasContent":true},"afterStages":[{"name":"page::finalizer","time":{"start":1757072152697,"stop":1757072152704,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"context::finalizer","time":{"start":1757072152705,"stop":1757072152723,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"runner::finalizer","time":{"start":1757072152724,"stop":1757072152755,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright::finalizer","time":{"start":1757072152756,"stop":1757072152761,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"event_loop::3","time":{"start":1757072152761,"stop":1757072152761,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"event_loop::_close_event_loop","time":{"start":1757072152761,"stop":1757072152761,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"event_loop::_restore_policy","time":{"start":1757072152761,"stop":1757072152761,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1757072152761,"stop":1757072152762,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"epic","value":"Marketing Site"},{"name":"severity","value":"critical"},{"name":"feature","value":"Homepage"},{"name":"feature","value":"Home/ Mobile Banner"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"ui"},{"name":"parentSuite","value":"tests.web.client"},{"name":"suite","value":"test_smoke_home"},{"name":"subSuite","value":"TestHomeSmoke"},{"name":"host","value":"pkrvm7jw40e0xgp"},{"name":"thread","value":"6309-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.web.client.test_smoke_home"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"market","value":"'Google'"},{"name":"platform","value":"'mobile'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["asyncio","ui"]},"source":"47b7be41ba0d306.json","parameterValues":["'Google'","'mobile'"]}